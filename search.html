<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
        <script src="Js/script.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="CSS/index.css">
        <title>Food Bite</title>
    </head>
<body>
    <button onclick="topFunction()" id="myScrollButton" title="Go to top">Top</button>

    <!-- Start Main Class -->
    <div class="main">
        
        <!-- Start Header -->                
        <div id="header-section">
        </div>
        <!-- End Header -->
        
        <!-- Start Content -->
        <div class="content">
            
            <!-- Start Header -->
            <header id="contact" class="header-title">
                <div class="searchContainer">
                    <div class="titleReceipe"><h1><b>Receipe</b></h1></div>
                    <div class="searchButton">
                        <form>
                            <table>
                                <tr>
                                    <td><input type="text" placeholder="Search by ingredient" name="search" id="searchText" required></td>
                                    <td>&nbsp;&nbsp;<button type="submit"><i class="fa fa-search" style="height: 35px;"></i></button></td>
                                </tr>
                            </table>
                        </form>
                    </div>
                </div>
                
                <hr class="line-style">    
                <br>
            </header>
            <!-- End Header -->
            <div id="mainContainer"></div>
            <script>
                var parameters = location.search.substring(1);
                var temp = parameters.split("=");
                var searchName = temp[1];
                console.log(searchName);
                var searchItem = [];
                var searchLunchItem = [];
                var searchDinnerItem = [];
                var searchDessertItem = [];
               //----------------------Search breakfast-------------
                for(var i=0;i<breakfastItem.length;i++){
                
                    var ingArray = breakfastItem[i].ing;
                   
                    for(var j=0;j<ingArray.length;j++){
                        if(searchName == ingArray[j]){
                           searchItem.push(breakfastItem[i].id);
                        }
                        else{
                            console.log("No data found");
                        }
                    }
                }

                 //----------------------Search Lunch-------------
                 for(var i=0;i<lunchItem.length;i++){
                    var ingArray = lunchItem[i].ing;
                    console.log(ingArray);
                    
                    for(var j=0;j<ingArray.length;j++){
                        if(searchName == ingArray[j]){
                           searchLunchItem.push(lunchItem[i].id);
                        }
                        else{
                            console.log("No data found");
                        }
                    }
                }

                  //----------------------Search Dinner-------------
                  for(var i=0;i<dinnerItem.length;i++){
                    var ingArray = dinnerItem[i].ing;
                    console.log(ingArray);
                    
                    for(var j=0;j<ingArray.length;j++){
                        if(searchName == ingArray[j]){
                           searchDinnerItem.push(dinnerItem[i].id);
                        }
                        else{
                            console.log("No data found");
                        }
                    }
                }

                 //----------------------Search Dessert-------------
                 for(var i=0;i<dessertItem.length;i++){
                    var ingArray = dessertItem[i].ing;
                    console.log(ingArray);
                    
                    for(var j=0;j<ingArray.length;j++){
                        if(searchName == ingArray[j]){
                           searchDessertItem.push(dessertItem[i].id);
                        }
                        else{
                            console.log("No data found");
                        }
                    }
                }
                
                var recipeBlock = "";
                if(searchName){
                   recipeBlock = recipeBlock +
                 ` <!-- Start Serach Breakfast Receipe -->
            <div class="form-container">
                <center>


                    <!-- Title -->    
                    <h3 class="home-title" style="color: #B90A0A;">
                        Recipe
                    </h3>
                    <h1 class="home2-title">B R E A K A S T</h1>
                    
                    <!-- Circle Line -->
                    <div class="home-line">
                        <div class="home-circle-line"></div>
                        <span><i>&#10038;</i></span>
                    </div>

                </center>
                <div id="searchRecipeContainer"></div>
            </div>
            <br><br>
            <!-- End Search Breakfast Receipe -->
            <!-- Start Search Lunch Receipe -->
            <div class="form-container">
                <center>

                    <!-- Title -->    
                    <h3 class="home-title" style="color: #B90A0A;">
                        Recipe
                    </h3>
                    <h1 class="home2-title">L U N C H</h1>
                    
                    <!-- Circle Line -->
                    <div class="home-line">
                        <div class="home-circle-line"></div>
                        <span><i>&#10038;</i></span>
                    </div>

                </center>
                <div id="searchLunchRecipeContainer"></div>
            </div>
            <br><br>
            <!-- End Search Lunch Receipe -->
            
            <!-- Start Search Dinner Receipe -->
            <div class="form-container">
                <center>

                    <!-- Title -->    
                    <h3 class="home-title" style="color: #B90A0A;">
                        Recipe
                    </h3>
                    <h1 class="home2-title">D I N N E R</h1>
                    
                    <!-- Circle Line -->
                    <div class="home-line">
                        <div class="home-circle-line"></div>
                        <span><i>&#10038;</i></span>
                    </div>

                </center>
                <div id="searchDinnerContainer"></div>
            </div>
            <br><br>
            <!-- End Search Dinner Receipe -->

            <!-- Start Search Dessert Receipe -->
            <div class="form-container">
                <center>

                    <!-- Title -->    
                    <h3 class="home-title" style="color: #B90A0A;">
                        Recipe
                    </h3>
                    <h1 class="home2-title">D E S S E R T</h1>
                    
                    <!-- Circle Line -->
                    <div class="home-line">
                        <div class="home-circle-line"></div>
                        <span><i>&#10038;</i></span>
                    </div>

                </center>
                <div id="searchDessertContainer"></div>     
            </div>
            <br><br>
            <!-- End Search Dessert Receipe -->


           
        `}
           
            document.getElementById("mainContainer").innerHTML = recipeBlock;
            </script>
      
        </div>
        <!-- End Content -->

    </div>
    <!-- End Main Class -->

    <!-- Start Footer -->                
    <div id="footer_section">
    </div>
    <!-- End Footer -->

  
  <script>

        $(function() {
            $("#header-section").load("Header.html"); 
            $("#footer_section").load("Footer.html"); 
        });

        //Get the button
        var mybutton = document.getElementById("myScrollButton");
        
        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function() {scrollFunction()};
        
        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
          } else {
            mybutton.style.display = "none";
          }
        }
        
        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }
        
        // }
            //-------------------Search Section---------------------------
            var searchCode = "";
        for(let i = 0;i < breakfastItem.length;i++){
           
            for(let j = 0; j < searchItem.length;j++){
                if(searchItem[j] == breakfastItem[i].id){
                   
            searchCode = searchCode + 
            `
            <div class="row">
                    <div class="col-md-3">
                        <img src="Images\\${breakfastItem[i].image}" alt="Breakfast" style="width:195px;height:120px;" class="receipe-image">
                    </div>
                <div class="col-md-3">
                    <h3>
                        <a href="Recipe_Detail.html?id=${breakfastItem[i].id}&cat=breakfast"  target="_blank" class="receipe">${breakfastItem[i].name}</a>
                    </h3> 
                    <p>${breakfastItem[i].description}</p> 
                </div>    
                </div>
                <br>
            `
            // console.log(searchCode);
        }
        
    }}
        if(searchItem.length < 1){
            searchCode = searchCode + `<h1>No Recipe found</h1>`
        }
       console.log("--------------------search code-----------------");
       console.log(searchCode);
        document.getElementById("searchRecipeContainer").innerHTML = searchCode;

        
    

//-------------------Search Lunch Section---------------------------
        var searchLunchCode = "";
        for(let i = 0;i < lunchItem.length;i++){
           
            for(let j = 0; j < searchLunchItem.length;j++){
                if(searchLunchItem[j] == lunchItem[i].id){
                   
            searchLunchCode = searchLunchCode + 
            `
            <div class="row">
                    <div class="col-md-3">
                        <img src="Images\\${lunchItem[i].image}" alt="Breakfast" style="width:195px;height:120px;" class="receipe-image">
                    </div>
                <div class="col-md-3">
                    <h3>
                        <a href="Recipe_Detail.html?id=${lunchItem[i].id}&cat=lunch"  target="_blank" class="receipe">${lunchItem[i].name}</a>
                    </h3> 
                    <p>${lunchItem[i].description}</p> 
                </div>    
                </div>
                <br>
            `
          
        }
        
    }}
        if(searchLunchItem.length < 1){
            searchLunchCode = searchLunchCode + `<h1>No Recipe found</h1>`
        }
      
        document.getElementById("searchLunchRecipeContainer").innerHTML = searchLunchCode;

    //-------------------Search Dinner Section---------------------------
    var searchDinnerCode = "";
        for(let i = 0;i < dinnerItem.length;i++){
           
            for(let j = 0; j < searchDinnerItem.length;j++){
                if(searchDinnerItem[j] == dinnerItem[i].id){
                   
                    searchDinnerCode = searchDinnerCode + 
            `
            <div class="row">
                    <div class="col-md-3">
                        <img src="Images\\${dinnerItem[i].image}" alt="Breakfast" style="width:195px;height:120px;" class="receipe-image">
                    </div>
                <div class="col-md-3">
                    <h3>
                        <a href="Recipe_Detail.html?id=${dinnerItem[i].id}&cat=dinner"  target="_blank" class="receipe">${dinnerItem[i].name}</a>
                    </h3> 
                    <p>${dinnerItem[i].description}</p> 
                </div>    
                </div>
                <br>
            `
          
        }
        
    }}
        if(searchDinnerItem.length < 1){
            searchDinnerCode = searchDinnerCode + `<h1>No Recipe found</h1>`
        }
      
        document.getElementById("searchDinnerContainer").innerHTML = searchDinnerCode;
//-------------------Search Dessert Section---------------------------
        var searchDessertCode = "";
        for(let i = 0;i < dessertItem.length;i++){
           
            for(let j = 0; j < searchDessertItem.length;j++){
                if(searchDessertItem[j] == dessertItem[i].id){
                   
                    searchDessertCode = searchDessertCode + 
            `
            <div class="row">
                    <div class="col-md-3">
                        <img src="Images\\${dessertItem[i].image}" alt="Breakfast" style="width:195px;height:120px;" class="receipe-image">
                    </div>
                <div class="col-md-3">
                    <h3>
                        <a href="Recipe_Detail.html?id=${dessertItem[i].id}&cat=dessert"  target="_blank" class="receipe">${dessertItem[i].name}</a>
                    </h3> 
                    <p>${dessertItem[i].description}</p> 
                </div>    
                </div>
                <br>
            `
          
        }
        
    }}
        if(searchDessertItem.length < 1){
            searchDessertCode = searchDessertCode + `<h1>No Recipe found</h1>`;
        }
      
        document.getElementById("searchDessertContainer").innerHTML = searchDessertCode;


    </script>
    
</body>
</html>